# ðŸŒ± Observer Pattern - Plant Lifecycle Monitoring

## Overview

This code implements the **Observer Pattern** to automatically notify interested parties() when a plant's state changes throughout its lifecycle. When a plant transitions between states (PlantedState â†’ PropagationState â†’ ReadyForTransplantState â†’ InNurseryState â†’ ReadyForSaleState â†’ SoldState), all registered observers are notified and can react accordingly.

## ðŸ“‹ Key Components

### Core Classes

| Class               | Role               | Responsibility                                             |
| ------------------- | ------------------ | ---------------------------------------------------------- |
| `LifeCycleObserver` | Observer Interface | Defines the `update()` method all observers must implement |
| `LifeCycleMonitor`  | Subject Manager    | Manages observer list and handles notifications            |
| `PlantProduct`      | Observable Subject | The plant whose state changes trigger notifications        |
| `StaffManager`      | Concrete Observer  | Dispatches care tasks to staff based on plant state        |

### Supporting Classes

- **`PlantState`** - Multiple States representing lifecycle states (SEED, SPROUTED, GROWING, etc.)
- **`StaffMember`** - Chain of Responsibility handler for care tasks
- **`CareCommand`** - Abstract base for care commands (Water, Fertilize, Prune, etc.)

## ðŸ”„ How It Works

```
Plant State Change
       â†“
setState() called
       â†“
LifeCycleMonitor.notify()
       â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“              â†“              â†“
StaffManager   InventoryMgr   [Other Observers]
    â†“              â†“
Execute tasks  Update stock
```

### Example Flow

```cpp
// 1. Setup
PlantProduct* rose = new PlantProduct("Rose");
StaffManager* staffMgr = new StaffManager();
InventoryManager* invMgr = new InventoryManager();

// 2. Register observers
rose->registerObserver(staffMgr);
rose->registerObserver(invMgr);

// 3. State changes automatically notify observers
rose->advanceState();  // SEED â†’ SPROUTED
// Output:
// StaffManager: Plant 'Rose' changed to state SPROUTED
//   -> Dispatching to greenhouse staff chain
// InventoryManager: Updating stock for 'Rose'

// 4. Harvest triggers inventory update
rose->dispose();  // â†’ HARVESTED
// InventoryManager adds 1 unit of "Rose" to stock
```

## ðŸ”— Pattern Integration

### With Command Pattern

Commands execute actions that may change plant state, which triggers observer notifications:

```cpp
WaterCommand* cmd = new WaterCommand(plant);
cmd->execute();  // May advance state â†’ observers notified
```

### With Chain of Responsibility

Observers dispatch commands to staff chains:

```cpp
// Plant state changes
plant->setState(PlantState::GROWING);

// StaffManager receives notification
// â†’ Evaluates state
// â†’ Dispatches CareCommand to appropriate chain
// â†’ First available StaffMember handles it
```

## ðŸ“ File Structure

```
Observer/
â”œâ”€â”€ LifeCycleObserver.h      # Observer interface
â”œâ”€â”€ LifeCycleMonitor.h       # Subject manager
â”œâ”€â”€ PlantProduct.h           # Observable plant
â”œâ”€â”€ PlantState.h             # States
â”œâ”€â”€ StaffManager.h           # Concrete observer
â”œâ”€â”€ StaffMember.h            # Chain of Responsibility
â””â”€â”€ CareCommand.h            # Command pattern base
    â”œâ”€â”€ WaterCommand.h
    â”œâ”€â”€ FertilizeCommand.h
    â”œâ”€â”€ PruneCommand.h
    â”œâ”€â”€ ReportCommand.h
    â””â”€â”€ MoveToSalesFloorCommand.h
```

## ðŸš€ Usage

### Basic Example

```cpp
// Create plant and observers
PlantProduct* plant = new PlantProduct("Tomato");
StaffManager* staffMgr = new StaffManager();
InventoryManager* invMgr = new InventoryManager();

// Register observers
plant->registerObserver(staffMgr);
plant->registerObserver(invMgr);

// Any state change notifies all observers
plant->advanceState();  // Automatic notifications
```

### Complete Lifecycle

```cpp
plant->setState(PlantState::PlantedState);           // Initial planting
plant->setState(PlantState::PropagationState);       // After propagation begins
plant->setState(PlantState::ReadyForTransplantState);// After growth milestone
plant->setState(PlantState::InNurseryState);         // In nursery care
plant->setState(PlantState::ReadyForSaleState);      // Ready for customers
plant->setState(PlantState::SoldState);              // Customer purchased
plant->dispose();                          // Harvested â†’ inventory updated
```

## ðŸ“Š State Transitions

```
PlantedState â†’ PropagationState â†’ ReadyForTransplantState â†’ InNurseryState â†’ ReadyForSaleState â†’ SoldState
     â†“                  â†“                   â†“                       â†“               â†“                 â†“
    [Greenhouse Staff]   [Greenhouse Staff]    [Greenhouse Staff]   [Greenhouse Staff]      [Sales Staff]
                                          [Inventory Update]
```

---
